<head>
  <style media="screen">
    .directory-item {
      cursor: pointer;
      padding: 0px 5px;
    }
    .directory-item:hover {
      __color: #88ffdd;
      background-color: lightgray;
    }
    button {
      padding:0;
      border:none;
      background:none;
      outline: none;
      box-shadow: none;
    }
    .sammy-nowrap-2 {
    _border-radius: 6px;
    _background-color: aliceblue;
    _border: 2px dashed gray;
    _max-width: 70%;
    _padding: 1em;
    _margin-bottom: .4em;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
   </style>
</head>

<template name="right_panel_directory">
  <form class="js-lookup">
  <div class="hbox-qj" style="padding:10px 10px;">

    <button type="button" class="js-directory-up"
    style="padding:0px 10px 0 0;font-size:14pt;"
    ><i class="fa fa-arrow-up"></i></button>

    <input type="text" name="dirName"
    style="font-weight:bold; font-size:11pt; font-family:arial; height:16pt; width:100%; _flex-grow=1;" value="{{cwd_Name}}">

    <button type="submit"
    style="padding-left:10px;font-size:14pt;"
    ><i class="fa fa-arrow-right"></i></button>

    <input type="checkbox" class="js-directory-mode"
    style="transform: translateY(20%); margin:0 0 0 10px;"
    >

  </div>
</form>

  <vbox style="
      overflow-y:auto;
      flex-grow:1;
      border: 3px solid orange;
      font-family:monospace; font-size:12pt; line-height:14pt; padding:5px;
      ">

    {{#each sdir}}
    <form _name="dir-entry" class="{{this.type}}" name="{{this.name}}">
      <hbox class="qj directory-item" >
        <input type="checkbox" name="check" value="">
      {{#if this.Prefix}}
        {{#if this.Key}}
        <!-- both Key and Prefix -->

        [o]<button class="sammy-nowrap-2"
        style="flex-grow:1; text-align:left; font-size:12pt; line-height:18pt; font-family:arial; color:#232323; margin-left:10px;"
        type="submit" name="edit"
          >{{this.name}}</button>
        <button style="_flex-grow:0;white-space: nowrap;" type="submit" name="enter">[ enter ]</button>


        {{else}}
        <!-- ONLY Prefix no need for enter -->

        [x]<button class="sammy-nowrap-2"
        style="flex-grow:1; text-align:left; font-size:12pt; line-height:18pt; font-family:arial; color:#232323; margin-left:10px;"
        type="submit" name="enter"
          >{{this.name}}</button>


        {{/if}}
      {{else}}
        {{#if this.Key}}
        <!-- ONLY Key -->


        [o]<button class="sammy-nowrap-2"
        style="flex-grow:1; text-align:left; font-size:12pt; line-height:18pt; font-family:arial; color:#232323; margin-left:10px;"
        type="submit" name="preview"
          >{{this.name}}</button>



        {{else}}
        <!-- NOTHING ALERT -->
        ALERT {{this.name}}
        {{/if}}
      {{/if}}
      </hbox>
    </form>

      <!--
      <input type="checkbox" name="check" value="">
      {{#if this.Key}}
      [o]
      {{else}}
      [x]
      {{/if}}
      <button class="sammy-nowrap-2"
      style="flex-grow:1; text-align:left; font-size:12pt; line-height:18pt; font-family:arial; color:#232323; margin-left:10px;"
      type="submit" name="preview"
        >{{this.name}}</button>

      {{#if this.Prefix}}
      <button style="_flex-grow:0;white-space: nowrap;" type="submit" name="edit">[ enter ]</button>
      {{/if}}
  -->
    {{/each}}
  </vbox>
</template>
